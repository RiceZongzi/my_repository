[TOC]

# 概述

## 数据结构概念

- 数据结构是一门研究非数值计算的程序设计问题中的操作对象，以及他们之间的关系和操作等相关问题的学科。

## 分类

### 逻辑结构分类

- 集合结构
  - 集合结构中数据元素除了属于同一个集合外，他们之间没有任何其他的关系。
- 线性结构
  - 线性结构中的数据元素之间存在一对一的关系。
- 树形结构
  - 树形结构中的数据元素之间存在一对多的层次关系。
- 图形结构
  - 图形结构的数据元素是多对多的关系。

### 物理结构分类

- 顺序存储结构
  - 把数据元素放到地址连续的存储单元里面，其数据间的逻辑关系和物理关系是一致的。
  - 比如数组。
- 链式存储结构
  - 是把数据元素存放在任意的存储单元里面，这组存储单元可以是连续的也可以是不连续的。

## 算法的概念

- 指解题方案的准确而完整的描述，是一系列解决问题的清晰指令，算法代表着用系统的方法解决问题的策略
  机制。
- 优秀的算法追求以下两个目标
  - 花最少的时间完成需求；
  - 占用最少的内存空间完成需求；

# 算法分析

## 时间复杂度

### 事后分析方法

```Java
public void method() {
    long start = System.currentTimeMillis();
    // 算法语句
    long end = System.currentTimeMillis();
    System.out.println(end - start);
}
```

### 事前分析方法

- 算法采用的策略和方案；
- 编译产生的代码质量；
- 问题的输入规模(所谓的问题输入规模就是输入量的多少)；
- 机器执行指令的速度；

### 大O记法

#### 概念
- 在进行算法分析时，语句总的执行次数`T(n)`是关于问题规模`n`的函数，进而分析`T(n)`随着`n`的变化情况并确定`T(n)`的量级。算法的时间复杂度，就是算法的时间量度，记作:
  $$
  T(n)=O(f(n))
  $$
  它表示随着问题规模`n`的增大，算法执行时间的增长率和`f(n)`的增长率相同，称作算法的渐近时间复杂度，简称时间复杂度，其中`f(n)`是问题规模`n`的某个函数。在这里，我们需要明确一个事情：
  $$
  执行次数 = 执行时间
  $$

- 用大写`O()`来体现算法时间复杂度的记法，我们称之为大O记法。一般情况下，随着输入规模`n`的增大，`T(n)`增长最慢的算法为最优算法。

- 使用规则
  - 用常数1取代运行时间中的所有加法常数；
  - 在修改后的运行次数中，只保留高阶项；
  - 如果最高阶项存在，且常数因子不为1，则去除与这个项相乘的常数。
  
#### 常见的大O阶


| 描述         | 增长的数量级 | 说明     | 举例           |
| ------------ | ------------ | -------- | -------------- |
| 常数级别     | 1            | 普通语句 | 将两个数相加   |
| 对数级别     | logN         | 二分策略 | 二分查找       |
| 线性级别     | N            | 循环     | 找出最大元素   |
| 线型对数级别 | NlogN        | 分治思想 | 归并排序       |
| 平方级别     | N^2          | 双层循环 | 检查所有元素对 |
| 立方级别     | N^3          | 三层循环 | 检查所有三元组 |
| 指数级别     | 2^N          | 穷举查找 | 检查所有子集   |

#### 最坏情况
- 最坏情况是一种保证，在应用中，这是一种最基本的保障，即使在最坏情况下，也能够正常提供服务，所以，除非
特别指定，我们提到的运行时间都指的是最坏情况下的运行时间。

## 空间复杂度

### Java中常见内存占用

#### 基本数据类型占用

| 数据类型 | 内存占用字节数 |
| :------: | :------------: |
|   byte   |       1        |
|  short   |       2        |
|   int    |       4        |
|   long   |       8        |
|  float   |       4        |
|  double  |       8        |
| boolean  |       1        |
|   char   |       2        |

#### 计算机访问内存方式

- 一次一个字节

#### 变量占用

- 一个引用（机器地址）需要8个字节表示

  - 比如

  - ```Java
      Date date = new Date();
    ```

  - 中，date这个变量需要占用8个字节来表示

#### 对象占用

- 每个对象的自身开销是16个字节，用来保存对象的头信息

  - 不包含对象内部存储的数据占用的内存

  - 比如

  - ```Java
      Date date = new Date();
    ```

  - 中，new Date()需要16个字节保存对象的头信息

#### 一般内存的使用

- 如果不够8个字节，都会被自动填充为8字节

#### 数组

- Java中数组被被限定为对象，因为记录长度而需要额外的内存，一个原始数据类型的数组一般需要24字节的头信息(16个自己的对象开销，4字节用于保存长度以及4个填充字节)再加上保存值所需的内存。

### 算法的空间复杂度

- 算法的空间复杂度计算公式记作：
  $$
  S(n)=O(f(n))
  $$
  其中n为输入规模，f(n)为语句关于n所占存储空间的函数。

## 总结

- 由于`Java`中有内存垃圾回收机制，并且`JVM`对程序的内存占用也有优化（例如即时编译），我们无法精确的评估一个Java程序的内存占用情况，但是了解了`Java`的基本内存占用，使我们可以对`Java`程序的内存占用情况进行估算。
- 由于现在的计算机设备内存一般都比较大，内存占用一般情况下并不是我们算法的瓶颈，普通情况下直接说复杂度，默认为算法的时间复杂度。
- 但是，如果你做的程序是嵌入式开发，尤其是一些传感器设备上的内置程序，由于这些设备的内存很小，一般为几`kb`，这个时候对算法的空间复杂度就有要求了。
